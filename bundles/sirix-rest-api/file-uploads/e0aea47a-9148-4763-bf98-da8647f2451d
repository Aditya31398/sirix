<?xml version="1.0" encoding="UTF-8"?>
<Configuration status="WARN" packages="de.uplanet.lucy.server.portalserver.messages">
    <Appenders>
        <!-- Console appender configuration -->
        <Console name="Console" target="SYSTEM_OUT">
            <PatternLayout>
                <pattern>%-5p %d{ISO8601} - %c[%t]%n %m%n</pattern>
            </PatternLayout>
        </Console>

        <!-- File appender configuration (daily rotation) -->
        <RollingFile name="DailyFile" fileName="log/portal.log" filePattern="log/portal.log.%d{yyyy-MM-dd}">
            <PatternLayout>
                <pattern>%-5p %d{ISO8601} - %c[%t]%n %m%n</pattern>
            </PatternLayout>
            <TimeBasedTriggeringPolicy interval="1"/>
            <ThresholdFilter level="DEBUG" onMatch="ACCEPT" onMismatch="DENY"/>
        </RollingFile>

        <!-- File appender configuration  (rotation) -->
        <RollingFile name="FixedSizeFile" fileName="log/portal.log" filePattern="log/portal.log.%i">
            <PatternLayout>
                <pattern>%-5p %d{ISO8601} - %c[%t]%n %m%n</pattern>
            </PatternLayout>

            <SizeBasedTriggeringPolicy size="16 MB"/>
            <ThresholdFilter level="DEBUG" onMatch="ACCEPT" onMismatch="DENY"/>
            <DefaultRolloverStrategy max="128"/>
        </RollingFile>

        <!-- Message Queue appender configuration -->
        <SystemMessageAppender name="SysFifo"/>

        <RollingFile name="WorkflowDailyFile" fileName="log/workflow.log" filePattern="log/workflow.log.%d{yyyy-MM-dd}">
            <PatternLayout>
                <pattern>%-5p %d{ISO8601} - %c[%t]%n %m%n</pattern>
            </PatternLayout>
            <TimeBasedTriggeringPolicy interval="1"/>
            <ThresholdFilter level="DEBUG" onMatch="ACCEPT" onMismatch="DENY"/>
        </RollingFile>

        <RollingFile name="SendMailDailyFile" fileName="log/sendmail.log" filePattern="log/sendmail.log.%d{yyyy-MM-dd}">
            <PatternLayout>
                <pattern>%-5p %d{ISO8601} - %c[%t]%n %m%n</pattern>
            </PatternLayout>
            <TimeBasedTriggeringPolicy interval="1"/>
            <ThresholdFilter level="DEBUG" onMatch="ACCEPT" onMismatch="DENY"/>
        </RollingFile>

        <!-- logging for the BIA-SAP connector -->
        <RollingFile name="SapDailyFile" fileName="log/sapapi.log" filePattern="log/sapapi.log.%d{yyyy-MM-dd}">
            <PatternLayout>
                <pattern>%-5p %d{ISO8601} - %c[%t]%n %m%n</pattern>
            </PatternLayout>
            <TimeBasedTriggeringPolicy interval="1"/>
            <ThresholdFilter level="DEBUG" onMatch="ACCEPT" onMismatch="DENY"/>
        </RollingFile>
<!-- logging for the saxon grid, remove on release -->
        <RollingFile name="SaxonTestLog" fileName="log/saxon.log" filePattern="log/saxon.log.%d{yyyy-MM-dd}">
            <PatternLayout>
                <pattern>%-5p %d{ISO8601} - %c[%t]%n %m%n</pattern>
            </PatternLayout>
            <TimeBasedTriggeringPolicy interval="1"/>
            <ThresholdFilter level="DEBUG" onMatch="ACCEPT" onMismatch="DENY"/>
        </RollingFile>    </Appenders>

    <Loggers>
        <!-- Set root logger level -->
        <Root level="WARN">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="DailyFile"/>
        </Root>

        <!-- Set United Planet logging level -->
        <Logger name="de.uplanet" level="info" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="DailyFile"/>
            <AppenderRef ref="SysFifo"/>
        </Logger>

        <!-- logging for JDBC -->
        <Logger name="de.uplanet.jdbc" level="info" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="DailyFile"/>
        </Logger>

        <!-- logging for Velocity -->
        <Logger name="de.uplanet.lucy.server.scripting.velocity.VelocityLogger" level="warn" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="DailyFile"/>
        </Logger>

        <!-- logging for JacORB -->
        <Logger name="jacorb.config" level="error" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="DailyFile"/>
        </Logger>

        <!-- logging for OData consumer -->
        <Logger name="de.uplanet.lucy.server.odata.consumer" level="info" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="DailyFile"/>
        </Logger>

        <!-- logging for OData producer -->
        <Logger name="de.uplanet.lucy.server.odata.producer" level="info" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="DailyFile"/>
        </Logger>

        <!-- logging for M-Files -->
        <Logger name="de.uplanet.lucy.server.mfiles.connector" level="info" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="DailyFile"/>
        </Logger>

        <!-- Workflow related loggers -->
        <Logger name="de.uplanet.lucy.server.workflow" level="info" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="WorkflowDailyFile"/>
        </Logger>

        <Logger name="de.uplanet.lucy.server.mailservice.workflow" level="info" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="WorkflowDailyFile"/>
        </Logger>

        <Logger name="de.uplanet.lucy.server.jms.workflow" level="info" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="WorkflowDailyFile"/>
        </Logger>

        <Logger name="de.uplanet.lucy.server.report.workflow" level="info" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="WorkflowDailyFile"/>
        </Logger>

        <Logger name="de.uplanet.lucy.server.share.workflow" level="info" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="WorkflowDailyFile"/>
        </Logger>

        <Logger name="de.uplanet.lucy.server.sick.workflow" level="info" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="WorkflowDailyFile"/>
        </Logger>

        <Logger name="de.uplanet.lucy.server.mailservice.send" level="info" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="SendMailDailyFile"/>
        </Logger>

        <!-- Set SAP Business Adapter 3.0 Logging Level -->
        <Logger name="net.initall" level="info" additivity="false">
            <AppenderRef ref="Console"/>
            <AppenderRef ref="SapDailyFile"/>
        </Logger>
        <Logger name="de.uplanet.lucy.server.saxon" level="info" additivity="false">
            <AppenderRef ref="SaxonTestLog"/>
            <AppenderRef ref="Console"/>
        </Logger>
    </Loggers>
</Configuration>
